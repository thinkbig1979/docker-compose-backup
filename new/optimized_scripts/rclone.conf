
# Rclone Backup Configuration - ENHANCED VERSION
# Configuration file for rclone backup and restore scripts

# Source directory for backups
# This should be the directory containing your data to backup
SOURCE_DIR="/home/backup/resticbackup"

# Rclone remote configuration
# This should match a remote configured in your rclone config
# Use 'rclone config' to set up remotes
REMOTE_NAME="storage-backup"

# Backup path on the remote
# This is the path within your remote where backups will be stored
BACKUP_PATH="/backup/resticbackup"

# Restore directory
# This is where files will be restored to during restore operations
RESTORE_DIR="/home/backup/restore"

# Log configuration
LOG_DIR="/var/log/rclone"
BACKUP_LOG_FILE="$LOG_DIR/rclone_backup.log"
RESTORE_LOG_FILE="$LOG_DIR/rclone_restore.log"

# Rclone transfer settings
TRANSFERS=4              # Number of parallel transfers
CHECKERS=8              # Number of checkers to run in parallel
BUFFER_SIZE="16M"       # Buffer size for each transfer
FAST_LIST=true          # Use fast-list for large directories

# Backup behavior settings
UPDATE_ONLY=true        # Only transfer files that are newer or different
PRESERVE_LINKS=true     # Preserve symbolic links
VERBOSE_OUTPUT=true     # Enable verbose output
PROGRESS_OUTPUT=true    # Show progress during transfers

# Retry settings
RETRIES=3               # Number of retries for failed transfers
RETRY_DELAY="1s"        # Delay between retries

# Bandwidth limiting (optional)
# Uncomment and set to limit bandwidth usage
# BANDWIDTH_LIMIT="10M"   # Limit to 10MB/s

# Exclude patterns (optional)
# Uncomment and modify to exclude certain files/directories
# EXCLUDE_PATTERNS="*.tmp,*.log,cache/,temp/"

# Example configurations for different scenarios:

# Local backup to external drive:
# SOURCE_DIR="/home/user/important-data"
# REMOTE_NAME="external-drive"
# BACKUP_PATH="/backups/user-data"
# RESTORE_DIR="/home/user/restore"

# Cloud backup to Google Drive:
# SOURCE_DIR="/srv/application-data"
# REMOTE_NAME="gdrive"
# BACKUP_PATH="/server-backups/application-data"
# RESTORE_DIR="/srv/restore"
# TRANSFERS=2
# BANDWIDTH_LIMIT="5M"

# Enterprise backup to S3:
# SOURCE_DIR="/opt/production-data"
# REMOTE_NAME="s3-backup"
# BACKUP_PATH="/company-backups/production"
# RESTORE_DIR="/opt/restore"
# TRANSFERS=8
# CHECKERS=16
# BUFFER_SIZE="32M"

# Notes:
# - Ensure SOURCE_DIR exists and is readable
# - REMOTE_NAME must be configured in rclone (use 'rclone config')
# - BACKUP_PATH will be created on the remote if it doesn't exist
# - RESTORE_DIR will be created locally if it doesn't exist during restore
# - Log directory will be created automatically if it doesn't exist
# - All paths should be absolute paths for reliability
# - Test your configuration with 'rclone ls REMOTE_NAME:' before running backups
